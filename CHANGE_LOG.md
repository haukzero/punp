## Change Log

- 2025.12.16
    - 默认排除系统隐藏文件, 常见大文件/目录, 二进制文件, 常见非核心文件等无关内容以在一般情况下提升性能. 可通过 `-H` option 打开处理隐藏文件
- 2025.12.12
    - 优化了文件遍历与排除过滤的性能
- 2025.12.3
    - 添加指定排除文件或目录路径的可选参数
    - 支持在单个 `-E` 值中使用逗号分隔的排除项以及单个 `-e` 值中使用逗号分隔的扩展名过滤
- 2025.12.2
    - 添加指定扩展名过滤的可选参数
- 2025.11.23:
    - 强制统一了所有配置的语法格式为 `KEYWORD(ARG_KEY "str", ...);`, 要求 `DEL` 需要带 `ARG_KEY`: `FROM`
    - 引入词法分析器 (Lexer) 和语法解析器 (Parser) 解析配置文件
    - 支持块注释
- 2025.11.22:
    - 大版本更新(v3.0.0): 重新定义规则编写格式, 修复在原本的规则编写格式下, 如果关键参数(替换文本, 保护区域)中包含规则关键字会导致规则无法正确识别的问题
    - 提供自更新功能, 通过比较本地版本与 github 仓库最新版本决定是否下载最新仓库并使用 cmake 编译安装
- 2025.10.23:
    - 添加保护区域功能: 支持使用 `!"start" ~ "end"` 语法定义保护区域, 在 `start` 到 `end` 内的内容不会被更改
    - 优化文件读入性能
- 2025.7.12:
    - 调整了写回线程分配任务给线程池的任务批量计算逻辑, 采用实时获取空闲线程数而不是先拿到线程数后用这个固定值为上界, 让一次分配任务的批量尽可能多
- 2025.7.10:
    - 使用 AC 自动机替代原本朴素查找替换算法, 并根据当前任务的具体情况简化 AC 自动机处理逻辑
        - 对 LongBench(zh) (36M) (5 个数据集文件) 测试, 达到 **1.4x speedup** (96ms -> 71ms)
    - 修复了过早关闭线程池的 Bug
- 2025.7.9:
    - 重构了 PageConfig 相关代码, 将其从 `types.h` 中移出到 `common.h` 中作为常量而不是可变 `struct`
    - 写回线程尝试将写回任务分配给线程池中的空闲线程, 减轻单个写回线程的压力,优化整体速度
        - 在 13th Gen Intel(R) Core(TM) i9-13900H (14 核, 20 逻辑处理器) 上对 LongBench (683M) (66 个数据集文件) 测试, 达到 **1.7x speedup** (5348ms -> 3158ms)
- 2025.7.8:
    - 实现删除规则与清空规则的规则语句识别
    - 使用线程池对文件读取并行化, 达到 **1.6x speedup** (151ms -> 96ms)
- 2025.7.7:
    - 添加 version info
    - 对文件管理做重构, 不再根据文件大小区分是否分块, 统一用分页管理
    - 使用更小的page size (16KB); 使用专门的线程负责监听工作线程, 当某个文件的所有page替换完成后直接写回, 不必等到所有文件都替换完成后才一起写回
        - 在 13th Gen Intel(R) Core(TM) i9-13900H (14 核, 20 逻辑处理器) 上对 LongBench(zh) (36M) 测试, 达到 **7.8x speedup** (1184ms -> 151ms)
    - 约束file_finder, 防止替换掉规则文件中的内容
- 2025.7.6: 当处理大文件时, 将大文件分块提交到线程池处理, 提升性能
    - 在 13th Gen Intel(R) Core(TM) i9-13900H (14 核, 20 逻辑处理器) 上对 LongBench(zh) (36M) 测试, 达到 **75.1x speedup** (88927ms -> 1184ms)
